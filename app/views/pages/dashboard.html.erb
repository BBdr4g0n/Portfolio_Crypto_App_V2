<div class="container">
    <div class="row mb-5">
        <div class="col col-3">
            <div class="card">
                <div class="card-header text-bg-dark text-end">
                    <h5 class="card-title">Total balance:</h5>
                </div>
                <div class="card-body">
                    <p class="card-text text-end">
                        <strong><%= number_to_currency(@total_balance) %></strong>
                    </p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card">
                <div class="card-header text-bg-dark">
                    <h5 class="card-title">BTC vs ETH:</h5>
                </div>
                <div class="card-body">
                    <%= line_chart [
                        #{ name: "Portfolio net value", data: @monthly_transactions_data, color: "#FF0000" },  # Red line
                        { name: "Ethereum", data: @monthly_deposits_data, color: "#0000FF" } # Blue line
                        ] %>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-5">
        <div class="col">
            <div class="card">
                <div class="card-header text-bg-dark">
                    <h5 class="card-title">Tokens:</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover align-middle text-center rounded-top overflow-hidden ">
                            <thead>
                                <tr class="table-dark">
                                    <th scope="col">Token</th>
                                    <th scope="col">Actual price</th>
                                    <th scope="col">Average buy price</th>
                                    <th scope="col">Average sell price</th>
                                    <th scope="col">Balance</th>
                                    <th scope="col">Balance in $</th>
                                    <th scope="col">Potential profits</th>
                                    <th scope="col">%</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% @tokens_data.each do |data| %>
                                    <tr>
                                        <td><%= data[:symbol] %></td>
                                        <td><%= number_to_currency(data[:current_price]) %></td>
                                        <td><%= number_to_currency(data[:average_buy_price]) %></td>
                                        <td><%= number_to_currency(data[:average_sell_price]) %></td>
                                        <td><%= data[:balance].ceil(4) %></td>
                                        <td><%= number_to_currency(data[:balance_in_dollars]) %></td>
                                        <td><%= number_to_currency(data[:potential_profits]) %></td>
                                        <td><%= number_to_percentage(data[:portfolio_percentage], precision: 2) %></td>
                                    </tr>
                                <% end %>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>